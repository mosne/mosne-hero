{"version":3,"file":"frontend.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,CAAC,YAAY;EACZ,YAAY;;EAEZ;AACD;AACA;EACC,SAASA,uBAAuBA,CAAA,EAAG;IAClC;IACA,MAAMC,eAAe,GAAGC,QAAQ,CAACC,gBAAgB,CAChD,4DACD,CAAC;IAED,IAAI,CAACF,eAAe,CAACG,MAAM,EAAE;MAC5B;IACD;IAEAH,eAAe,CAACI,OAAO,CAAEC,OAAO,IAAK;MACpC,MAAMC,GAAG,GAAGD,OAAO,CAACE,aAAa,CAAC,KAAK,CAAC;MACxC,IAAI,CAACD,GAAG,EAAE;QACT;MACD;;MAEA;MACA,MAAME,oBAAoB,GACzBF,GAAG,CAACG,YAAY,CAAC,sBAAsB,CAAC,IACxCH,GAAG,CAACI,KAAK,CAACC,cAAc,IACxB,SAAS;MACV,MAAMC,qBAAqB,GAC1BN,GAAG,CAACG,YAAY,CAAC,8BAA8B,CAAC,IAChD,SAAS;;MAEV;MACA;MACA,MAAMI,SAAS,GAAGP,GAAG,CAACG,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE;MAC/C;MACA,MAAMK,UAAU,GAAGR,GAAG,CAACG,YAAY,CAAC,kBAAkB,CAAC,IAAI,EAAE;MAE7DM,OAAO,CAACC,GAAG,CAACH,SAAS,EAAEC,UAAU,CAAC;;MAElC;MACA,MAAMG,UAAU,GAAIC,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACC,iBAAiB,CAACF,UAAU,IAAK,GAAG;MAC3F,MAAMG,UAAU,GAAGF,MAAM,CAACG,UAAU,CAAC,eAAeJ,UAAU,KAAK,CAAC;;MAEpE;MACAK,oBAAoB,CAAChB,GAAG,EAAEc,UAAU,EAAEZ,oBAAoB,EAAEI,qBAAqB,CAAC;MAClFW,aAAa,CAACjB,GAAG,EAAEc,UAAU,EAAEP,SAAS,EAAEC,UAAU,CAAC;;MAErD;MACAM,UAAU,CAACI,gBAAgB,CAAC,QAAQ,EAAGC,CAAC,IAAK;QAC5CH,oBAAoB,CAAChB,GAAG,EAAEmB,CAAC,EAAEjB,oBAAoB,EAAEI,qBAAqB,CAAC;QACzEW,aAAa,CAACjB,GAAG,EAAEmB,CAAC,EAAEZ,SAAS,EAAEC,UAAU,CAAC;MAC7C,CAAC,CAAC;IACH,CAAC,CAAC;EACH;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASQ,oBAAoBA,CAAChB,GAAG,EAAEc,UAAU,EAAEM,cAAc,EAAEC,eAAe,EAAE;IAC/E,IAAIP,UAAU,CAACQ,OAAO,EAAE;MACvB;MACAtB,GAAG,CAACI,KAAK,CAACC,cAAc,GAAGe,cAAc;IAC1C,CAAC,MAAM;MACN;MACApB,GAAG,CAACI,KAAK,CAACC,cAAc,GAAGgB,eAAe;IAC3C;EACD;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;EACC,SAASJ,aAAaA,CAACjB,GAAG,EAAEc,UAAU,EAAEP,SAAS,EAAEC,UAAU,EAAE;IAC9D,IAAIM,UAAU,CAACQ,OAAO,EAAE;MACvB;MACAtB,GAAG,CAACuB,YAAY,CAAC,KAAK,EAAEhB,SAAS,CAAC;IACnC,CAAC,MAAM;MACN;MACAP,GAAG,CAACuB,YAAY,CAAC,KAAK,EAAEf,UAAU,CAAC;IACpC;EACD;;EAEA;EACA,IAAIb,QAAQ,CAAC6B,UAAU,KAAK,SAAS,EAAE;IACtC7B,QAAQ,CAACuB,gBAAgB,CAAC,kBAAkB,EAAEzB,uBAAuB,CAAC;EACvE,CAAC,MAAM;IACNA,uBAAuB,CAAC,CAAC;EAC1B;AACD,CAAC,EAAE,CAAC,C","sources":["webpack://mosne-hero/./src/frontend.js"],"sourcesContent":["/**\n * Frontend script to handle focal point switching based on media queries.\n *\n * @package MosneHero\n */\n\n(function () {\n\t'use strict';\n\n\t/**\n\t * Initialize focal point switching for hero cover blocks.\n\t */\n\tfunction initFocalPointSwitching() {\n\t\t// Find all picture elements with mobile image support\n\t\tconst pictureElements = document.querySelectorAll(\n\t\t\t'.has-mobile-image picture.wp-block-cover__image-background'\n\t\t);\n\n\t\tif (!pictureElements.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tpictureElements.forEach((picture) => {\n\t\t\tconst img = picture.querySelector('img');\n\t\t\tif (!img) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get mobile and desktop object positions\n\t\t\tconst mobileObjectPosition =\n\t\t\t\timg.getAttribute('data-object-position') ||\n\t\t\t\timg.style.objectPosition ||\n\t\t\t\t'50% 50%';\n\t\t\tconst desktopObjectPosition =\n\t\t\t\timg.getAttribute('data-desktop-object-position') ||\n\t\t\t\t'50% 50%';\n\n\t\t\t// Get mobile and desktop alt text\n\t\t\t// Mobile alt is stored in the alt attribute initially\n\t\t\tconst mobileAlt = img.getAttribute('alt') || '';\n\t\t\t// Desktop alt is stored in data-desktop-alt attribute\n\t\t\tconst desktopAlt = img.getAttribute('data-desktop-alt') || '';\n\n\t\t\tconsole.log(mobileAlt, desktopAlt);\n\n\t\t\t// Get breakpoint from localized settings, fallback to 728px\n\t\t\tconst breakpoint = (window.mosneHeroSettings && window.mosneHeroSettings.breakpoint) || 728;\n\t\t\tconst mediaQuery = window.matchMedia(`(max-width: ${breakpoint}px)`);\n\t\t\t\n\t\t\t// Set initial position and alt based on current viewport\n\t\t\tupdateObjectPosition(img, mediaQuery, mobileObjectPosition, desktopObjectPosition);\n\t\t\tupdateAltText(img, mediaQuery, mobileAlt, desktopAlt);\n\n\t\t\t// Listen for viewport changes\n\t\t\tmediaQuery.addEventListener('change', (e) => {\n\t\t\t\tupdateObjectPosition(img, e, mobileObjectPosition, desktopObjectPosition);\n\t\t\t\tupdateAltText(img, e, mobileAlt, desktopAlt);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Update object position based on media query.\n\t *\n\t * @param {HTMLElement} img                    Image element.\n\t * @param {MediaQueryList|MediaQueryListEvent} mediaQuery Media query object.\n\t * @param {string}                            mobilePosition  Mobile object position.\n\t * @param {string}                            desktopPosition Desktop object position.\n\t */\n\tfunction updateObjectPosition(img, mediaQuery, mobilePosition, desktopPosition) {\n\t\tif (mediaQuery.matches) {\n\t\t\t// Mobile view: use mobile position\n\t\t\timg.style.objectPosition = mobilePosition;\n\t\t} else {\n\t\t\t// Desktop view: use desktop position\n\t\t\timg.style.objectPosition = desktopPosition;\n\t\t}\n\t}\n\n\t/**\n\t * Update alt text based on media query.\n\t *\n\t * @param {HTMLElement} img                    Image element.\n\t * @param {MediaQueryList|MediaQueryListEvent} mediaQuery Media query object.\n\t * @param {string}                            mobileAlt  Mobile alt text.\n\t * @param {string}                            desktopAlt Desktop alt text.\n\t */\n\tfunction updateAltText(img, mediaQuery, mobileAlt, desktopAlt) {\n\t\tif (mediaQuery.matches) {\n\t\t\t// Mobile view: use mobile alt\n\t\t\timg.setAttribute('alt', mobileAlt);\n\t\t} else {\n\t\t\t// Desktop view: use desktop alt\n\t\t\timg.setAttribute('alt', desktopAlt);\n\t\t}\n\t}\n\n\t// Initialize on DOM ready\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', initFocalPointSwitching);\n\t} else {\n\t\tinitFocalPointSwitching();\n\t}\n})();\n\n"],"names":["initFocalPointSwitching","pictureElements","document","querySelectorAll","length","forEach","picture","img","querySelector","mobileObjectPosition","getAttribute","style","objectPosition","desktopObjectPosition","mobileAlt","desktopAlt","console","log","breakpoint","window","mosneHeroSettings","mediaQuery","matchMedia","updateObjectPosition","updateAltText","addEventListener","e","mobilePosition","desktopPosition","matches","setAttribute","readyState"],"ignoreList":[],"sourceRoot":""}